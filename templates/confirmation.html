{% extends 'base.html' %}

{% block content %}
    <body style="background-image:url('/static/backimg.jpg'); background-size: 100%;">
        <div class="topnav">
            <img src="/static/Pend logo.001.png" alt="datamellon logo" style=" width: 230px; height: 230px; margin-top: -105px; margin-bottom: -110px; margin-left: -30px; margin-right: -30px;">
            <a href="/">Home</a>
            <a class="active" href="/registration/">Request New ID</a>
            <a href="/verification-reg/">Verify ID</a>
            <a href="/renew/">Renew ID</a>
            <div class="topnav-right">Teams Management Portal</div>
        </div>
        <div class="row">
            <div class="flip-card" style="margin-top: 80px;">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div id="avatar">
                            <img src="{{imagepath}}" alt="John" style="margin-top: 60px; width: 100px; height: 100px; border-radius: 50%; vertical-align: middle;">
                        </div> 
                        <p class="title" style="font-size: 9px; padding: 0px; margin-top: 15px; ">{{lname}}</p>
                        <p class="title" style="font-size: 25px; padding: 0px; margin-top: -13px;">{{fname}}</p>
                        <p class="title" style="font-size: 9px; padding: 0px; margin-top: -15px;">{{position}}</p>
                        <p class="title" style="font-size: 7px; padding: 0px; margin-top: -5px;">{{staffid}}</p>
                        <div id="avatar">
                            <img src="{{signpath}}" alt="John" style="margin-top: -15px; width: 90px; height: 90px; vertical-align: middle;">
                        </div>
                    </div>
                    <div class="flip-card-back" style="background-image:url('/static/ID template/Datamellon copy 3.png'); background-position: center; background-repeat: no-repeat; background-size: 100% 100%;">
                            <p class="title" style="font-size: 8px; padding: 0px; margin-top: 115px;">{{lname}}</p>
                            <p class="title" style="font-size: 25px; padding: 0px; margin-top: -11px;">{{fname}}</p>
                            <p class="title" style="font-size: 7px; padding: 0px; margin-top: 100px;">{{phone}}</p>
                            <p class="title" style="font-size: 6px; padding: 0px; margin-top: 0px;">{{email}}</p>
                        <div id="avatar">
                            <img src="{{qrpath}}" alt="John" style="width: 40px; height: 40px; vertical-align: middle;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="column" style="margin-top: 60px; margin-left: 80px;">
                <!-- <div class="card-front" style="background-image:url('/static/ID template/Datamellon copy 2.png'); background-position: center; background-repeat: no-repeat; background-size: 100% 100%; position: left; width: 250px; height: 350px; text-align: center; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2); margin-top: 20px; margin-left: 15px;"> -->
                    <div id="front-img" style="background-image:url('/static/ID template/Datamellon copy 2.png'); background-position: center; background-repeat: no-repeat; background-size: 100% 100%; position: left; width: 250px; height: 350px; text-align: center; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2); margin-top: 20px; margin-left: 15px;">
                        <div id="avatar">
                            <img src="{{imagepath}}" alt="John" style="margin-top: 60px; width: 100px; height: 100px; border-radius: 50%; vertical-align: middle;">
                        </div> 
                        <p style="margin-top: 15px;">{{lname}}</p>
                        <p style="font-size: 25px; margin-top: -15px;">{{fname}}</p>
                        <p style="margin-top: -15px;">{{position}}</p>
                        <p style="font-size: 7px; margin-top: -5px;">{{staffid}}</p>
                        <div id="avatar">
                            <img src="{{signpath}}" alt="John" style=" margin-top: -15px; width: 90px; height: 90px; vertical-align: middle;">
                        </div>
                    </div>
                <!-- </div> -->
            </div>
            <div class="column" style="margin-left: -70px; margin-top: 70px;">
                <!-- <div class="card-back" style="background-image:url('/static/ID template/Datamellon copy 3.png'); background-position: center; background-repeat: no-repeat; background-size: 100% 100%; position: left; width: 250px; height: 350px; text-align: center; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);"> -->
                    <div id="back-img" style="background-image:url('/static/ID template/Datamellon copy 3.png'); background-position: center; background-repeat: no-repeat; background-size: 100% 100%; position: left; width: 250px; height: 350px; text-align: center; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);">
                        <p style="color: white;">t</p>
                        <p style="margin-bottom: -5px; margin-top: 103px;">{{lname}}</p>
                        <p style="font-size: 25px; margin-top: -1px;">{{fname}}</p>
                        <p style="margin-top: 97px; font-size: 7px;">{{phone}}</p>
                        <p style="font-size: 6px;">{{email}}</p>
                        <div id="avatar">
                            <img src="{{qrpath}}" alt="John" style="width: 40px; height: 40px; vertical-align: middle;">
                        </div>
                    </div>
                <!-- </div> -->
            </div>
        </div>
        <div>
            <button onclick="downloadfrontimage()" class="clickbtn">Click To Download Front View</button>
        </div>
        <div>
            <button onclick="downloadbackimage()" class="clickbtn">Click To Download Back View</button> 
        </div>
        <!-- <div id=”paypal-button”></div> -->
        <p style="margin-top: 350px;">Datamellon Team &copy; 2020</p>
    </body>
    <script type="text/javascript">

        function downloadfrontimage() {
            //var container = document.getElementById("image-wrap"); //specific element on page
            var container = document.getElementById("front-img");; // full page 
            html2canvas(container, { allowTaint: true }).then(function (canvas) {

                var link = document.createElement("a");
                document.body.appendChild(link);
                link.download = "html_image_front.png";
                link.href = canvas.toDataURL();
                link.target = '_blank';
                link.click();
            });
        }

        function downloadbackimage() {
            //var container = document.getElementById("image-wrap"); //specific element on page
            var container = document.getElementById("back-img");; // full page 
            html2canvas(container, { allowTaint: true }).then(function (canvas) {

                var link = document.createElement("a");
                document.body.appendChild(link);
                link.download = "html_image_back.png";
                link.href = canvas.toDataURL();
                link.target = '_blank';
                link.click();
            });
        }

    </script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <!-- <script src=”https://www.paypalobjects.com/api/checkout.js”></script> -->
{% endblock content %}


<!-- <div id=”paypal-button”></div>
<script src=”https://www.paypalobjects.com/api/checkout.js”></script>
<script>
paypal.Button.render({
// Configure environment
env: ‘sandbox’,
client: {
sandbox: ‘demo_sandbox_client_id’,
production: ‘demo_production_client_id’
},
// Customize button (optional)
locale: ‘en_US’,
style: {
size: ‘small’,
color: ‘gold’,
shape: ‘pill’,
},
// Set up a payment
payment: function (data, actions) {
return actions.payment.create({
transactions: [{
amount: {
total: ‘0.01’,
currency: ‘USD’
}
}]
});
},
// Execute the payment
onAuthorize: function (data, actions) {
return actions.payment.execute()
.then(function () {
// Show a confirmation message to the buyer
window.alert(‘Thank you for your purchase!’);
});
}
}, ‘#paypal-button’);
</script> -->